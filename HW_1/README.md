\# 编程作业1 - 交互动画几何造型



\## 项目简介



这是一个基于WebGL的交互式几何造型动画项目，实现了Sierpinski三角形的动态生成、旋转控制和交互式中心定位功能。



\## 功能特性



\### 基本功能

\- ✅ \*\*递归深度控制\*\*：通过滑动条控制Sierpinski三角形的递归次数（0-15级）

\- ✅ \*\*旋转动画控制\*\*：Start/Stop Rotation按钮控制图形的旋转与停止

\- ✅ \*\*速度调节\*\*：speadUP/speadDOWN按钮调节旋转速度

\- ✅ \*\*交互式中心定位\*\*：点击画布任意位置将图形中心移动到该位置

\- ✅ \*\*自适应窗口\*\*：画布随窗口大小自动调整



\### 额外功能

\- ✅ \*\*性能监控\*\*：实时显示FPS和顶点数量

\- ✅ \*\*彩色渲染\*\*：三角形使用红、绿、蓝三色渐变



\## 技术栈



\- \*\*WebGL 2.0\*\* - 图形渲染

\- \*\*HTML5 Canvas\*\* - 画布元素

\- \*\*JavaScript\*\* - 交互逻辑

\- \*\*GLSL\*\* - 着色器编程



\## 文件结构

project/

├── gasket2D.html          # 主页面

├── gasket2D.js            # 主要JavaScript逻辑

├── shaders/

│   ├── gasket2D.vert      # 顶点着色器

│   └── gasket2D.frag      # 片元着色器

├── Common/

│   ├── webgl-utils.js     # WebGL工具函数

│   ├── initShaders2.js    # 着色器初始化

│   └── MVnew.js           # 数学库

└── README.md              # 说明文档



\## 运行说明



\### 环境要求

\- 支持WebGL 2.0的现代浏览器（Chrome、Firefox、Edge等）

\- 本地服务器环境（由于安全限制，不能直接打开HTML文件）



\### 运行步骤

1\. 将项目文件放置在Web服务器目录下

2\. 启动本地服务器（如使用Python：`python -m http.server 8000`）

3\. 浏览器访问：`http://localhost:8000/gasket2D.html`



\### 直接运行（开发模式）

如果浏览器安全策略允许，也可以直接双击打开`gasket2D.html`文件



\## 操作指南



1\. \*\*调节递归深度\*\*：拖动滑动条（0-15）改变三角形的细分程度

2\. \*\*控制旋转\*\*：点击"Start/Stop Rotation"按钮开始/停止旋转

3\. \*\*调节速度\*\*：使用"speadUP"和"speadDOWN"按钮调整旋转速度

4\. \*\*移动中心\*\*：在画布任意位置点击，图形中心将移动到该位置

5\. \*\*性能监控\*\*：界面左上角显示当前FPS和顶点数量



\## 实现细节



\### 核心算法

\- \*\*Sierpinski三角形生成\*\*：递归细分算法，每次递归将三角形分成4个小三角形

\- \*\*坐标转换\*\*：将鼠标屏幕坐标转换为WebGL归一化坐标

\- \*\*旋转变换\*\*：通过旋转矩阵在顶点着色器中实现图形旋转



\### 关键函数

\- `divideTriangle()` - 递归生成Sierpinski三角形顶点

\- `triangle()` - 生成单个三角形并设置颜色

\- `render()` - 主渲染循环

\- `countFPS()` - 计算并显示帧率和顶点数



\## 开发团队



\- 组名：\[ ]

\- 成员：余嘉文 2023141460008



\## 已知问题



\- 在某些浏览器中可能需要启用WebGL支持

\- 高递归级别（>10）可能在某些设备上性能下降



\## 扩展可能



1\. \*\*替换分形图形\*\*：修改`divideTriangle`函数实现科赫雪花等其他分形

2\. \*\*更多交互\*\*：添加缩放、平移等更多交互控制

3\. \*\*高级渲染\*\*：添加纹理、光照等高级渲染效果



\## 版权说明



本项目为课程作业，仅用于学习目的。

